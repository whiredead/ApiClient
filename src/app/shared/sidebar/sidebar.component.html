<div class="card flex justify-content-center">
    <p-sidebar #sidebarRef [(visible)]="sidebarService.sidebarVisible" [dismissible]="false" styleClass="w-30rem" [style]="{'overflow-x': 'auto','overflow-y': 'auto'}">
        <ng-template pTemplate="headless">
            <div class="flex flex-column h-full">
                <div class="flex align-items-center justify-content-between px-4 pt-3 flex-shrink-0">
                    <span class="inline-flex align-items-center gap-2">
                        <p-avatar image="assets/demo/images/cropped-slm.png" styleClass="mr-2" size="xlarge" />
                        <span class="font-semibold text-2xl text-secondary">Salaf AL Moustakbal</span>
                    </span>
                    <span>
                        <p-button icon="pi pi-times" (click)="closeCallback($event)" [rounded]="true" [text]="true" severity="secondary" styleClass="h-2rem w-2rem ml-5"></p-button>
                    </span>
                </div>
                
                <div class="scrollable-container overflow-auto flex-grow-1">

                    <hr style="height:3px; border-width:18;background-color:#de0909" class="border-none" />

                    <div *ngIf="sidebarService.menuItems.length > 0" class="mt-8">
                        <ul *ngFor="let item of sidebarService.menuItems" class="list-none p-3 m-3 cursor-pointer transition-duration-150 transition-colors">
                            <li *ngIf="item.hasChild">
                                
                                <div class=" flex cursor-pointer p-3 border-round text-600 hover:surface-100 transition-duration-150 transition-colors hover:surface-100 text-600 hover:text-400"
                                    pRipple pStyleClass="@next" enterFromClass="hidden" enterActiveClass="slidedown" leaveToClass="hidden" leaveActiveClass="slideup" >
                                    <a pRipple>
                                        <span class="font-medium">{{item.label}}</span>
                                        <i class="pi pi-chevron-down"></i>
                                    </a>
                                    <hr style="height:2px; border-width:10;background-color:#60B238" class="mb-3 mx-3 border-none" />
                                </div>
                                <app-sidebaritem [item]="item"></app-sidebaritem>
                                <hr style="height:2px; border-width:10;background-color:#60B238" class="mb-3 mx-3 border-none" />

                            </li>

                            <li *ngIf="!item.hasChild">
                                <div class=" flex cursor-pointer p-3 border-round text-600 hover:surface-100 transition-duration-150 transition-colors hover:surface-100 text-600 hover:text-400">
                                    <a pRipple [routerLink]="item.url">
                                        <span class="font-medium">{{item.label}}</span>
                                    </a>
                                </div>
                                <hr style="height:2px; border-width:10; background-color:#60B238" class="mb-3 mx-3 border-none" />
                            </li>
                        </ul>
                    </div>

                </div>

                <div class="mt-auto" *ngIf="(authService.user$ | async) as user">

                    <hr style="height:3px; border-width:15;background-color:#de0909" class="border-none" />

                    <a pRipple class="m-3 flex align-items-center cursor-pointer p-3 gap-2 border-round text-700 hover:surface-100 transition-duration-150 transition-colors">
                        <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png" shape="circle"></p-avatar>
                        <span class="font-semibold text-xl text-secondary">{{user.firstName}} {{user.lastName}}</span>
                    </a>

                </div>
                    
            </div>
        </ng-template>
    </p-sidebar>
</div>


